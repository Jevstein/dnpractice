#**********************************************************
#
# by jevstein
# 2018/12/11
#
#**********************************************************

#**********************************************************
#	CONFIG
#**********************************************************
DEBUG 		:= YES
APP			:= demo
APP_OUT		:= demo
ROOT_DIR	:= .
OUT_DIR		:= $(ROOT_DIR)
DEFS_DIR	:= 
INCS_DIR	:=  -I$(ROOT_DIR)/include
LIBS_DIR	:= 
LIBS		:= -llog4cpp -lpthread
SRCS		:= $(wildcard *.cpp)

#**********************************************************
#	TOOL CHAIN
#**********************************************************
CXX				:= g++
COMMON_FLAGS	:= -g
CXX_FLAGS		:= $(COMMON_FLAGS)

#**********************************************************                                                                                  
#	FILES
#**********************************************************
OBJS	:= $(addsuffix .o, $(basename $(SRCS)))
#OBJS	:= $(patsubst %.o, $(OBJ_DIR)/%.o, $(OBJS))

#**********************************************************
#	OUTPUT
#**********************************************************
#include $(subst .cpp,.d,$(SRCS))

all: $(OBJS)
	$(CXX) $(CXX_FLAGS) -o $(APP_OUT) $(OBJS) $(LIBS)
	$(info $(APP_OUT)\makefile -> all success!)
	
clean:
	rm -f *.d *.o $(APP_OUT)

#**********************************************************
#	common rule
#**********************************************************
%.o : %.cpp
	$(CXX) -c $(CXXFLAGS) $(INCS) $<

#**********************************************************
#	PHONY
#**********************************************************
.PHONY: all clean